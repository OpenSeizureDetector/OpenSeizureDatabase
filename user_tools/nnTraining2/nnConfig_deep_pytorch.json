{
    "debug": false,
    "randomSeed": 42,

    "osdbConfig": {
        "_cacheDir": ".",
        "osdbFiles_desc": "List of Open Seizure Database files to be used as input for the data preparation",
        "osdbFiles": [
            "osdb_3min_allSeizures.json",
            "osdb_3min_ndaEvents.json",
            "osdb_3min_falseAlarms.json"
        ]
    },

    "dataFileNames": {
        "allDataFileJson": "allData.json",
        "testDataFileJson": "testData.json",
        "trainDataFileJson": "trainData.json",
        "valDataFileJson": "valData.json",
        "testDataFileCsv": "testData.csv",
        "testBalancedFileCsv": "testDataBalanced.csv",
        "trainDataFileCsv": "trainData.csv",
        "valDataFileCsv": "valData.csv",
        "trainAugmentedFileCsv": "trainDataAugmented.csv",
        "trainFeaturesFileCsv": "trainFeatures.csv",
        "testFeaturesFileCsv": "testFeatures.csv",
        "trainFeaturesHistoryFileCsv": "trainDataFeaturesHistory.csv",
        "testFeaturesHistoryFileCsv": "testDataFeaturesHistory.csv"
    },

    "eventFilters": {
        "includeUserIds": [],
        "excludeUserIds": [],
        "includeTypes": [],
        "excludeTypes": [],
        "includeSubTypes": [],
        "excludeSubTypes": ["Unknown", "null", "Null", "Check", "check"],
        "includeDataSources": [],
        "excludeDataSources": ["Phone", "AndroidWear"],
        "includeText": [],
        "excludeText": ["bulk type/subtype set"],
        "requireHrData": false,
        "requireO2SatData": false,
        "require3dData": true
    },

    "dataProcessing": {
        "addFeatureHistoryLength": 0,
        "window": 750,
        "step": 125,
        "oversample": "none",
        "undersample": "none",
        "worker_count": null,
        "batch_size": 1000,
        "stream_chunksize": 20000,
        "stream_low_memory": false,
        "stream_dtype_map": null,
        "noiseAugmentation": false,
        "noiseAugmentationFactor": 20,
        "noiseAugmentationValue": 30.0,
        "phaseAugmentation": false,
        "userAugmentation": false,
        "splitTestTrainByEvent": true,
        "accSdThreshold": 0.0,
        "testProp": 0.3,
        "validationProp": 0.0,
        "features": ["acc_magnitude"],
        "simpleMagnitudeOnly": true,
        "highPassFreq": null,
        "highPassOrder": 2
    },

    "modelConfig": {
        "framework": "pytorch",
        "modelFname": "deepEpiCnnModel_pytorch",
        "modelClass": "user_tools.nnTraining2.deepEpiCnnModel_torch.DeepEpiCnnModelPyTorch",
        "sampleFreq": 25,
        "bufferSeconds": 30,
        "epochs": 100,
        "batchSize": 512,
        "nLayers": 14,
        "lrFactor": 0.1,
        "lrPatience": 5,
        "lrStart": 1e-5,
        "lrMin": 1e-6,
        "earlyStoppingPatience": 10,
        "trainingVerbosity": 1,
        "dims": 1,
        "_comment_lr_schedule": "Set useLrSchedule to true to enable Spahr et al. 2025 three-phase learning rate schedule",
        "useLrSchedule": true,
        "useAdamW": true,
        "adamwBeta1": 0.9,
        "adamwBeta2": 0.999,
        "weightDecay": 0.0,
        "lrPeak": 1e-3,
        "lrMainEnd": 3e-5,
        "warmupSteps": 2500,
        "mainSteps": 45000,
        "cooldownSteps": 2500,
        "totalTrainingSteps": 50000,
        "_comment_eval": "Evaluation and checkpointing settings",
        "evalEverySteps": 5000,
        "saveBestOnBothImprovement": true,
        "saveBestOnFarReduction": 0.10,
        "saveBestOnSensitivityTolerance": 0.05,
        "_comment_batches": "Set useBalancedBatches to true for Spahr et al. 2025 balanced batch sampling",
        "useBalancedBatches": true
    }
}
